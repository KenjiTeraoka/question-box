(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[646],{3798:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[id]",function(){return t(9331)}])},9331:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var n=t(5893),l=t(1163),a=t(694),u=t(7294),r=t(3247),c=t(2167),i=t(8578);function o(e){let{auth:s,setUser:t}=e;return(0,u.useEffect)(()=>{let e=(0,i.Aj)(s,e=>{t(e),console.log(e.displayName)});return()=>{e()}},[s,t]),null}function d(){let[e,s]=(0,u.useState)(""),[t,i]=(0,u.useState)(null),d=(0,l.useRouter)(),{id:m}=d.query,x=(0,c.Z)(new Date,"yyyyMMddHH:mm:ss"),f=async n=>{n.preventDefault();try{let n=(0,r.hJ)(a.R,"/question/".concat(m,"/questions")),l={question:e,user:t.displayName};await (0,r.pl)((0,r.JU)(n,"".concat(x)),l),s("")}catch(e){console.error("Error adding document: ",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{auth:a.I,setUser:i}),(0,n.jsxs)("form",{onSubmit:f,className:"flex justify-between w-11/12",children:[(0,n.jsx)("input",{className:"w-full border-b-2",required:!0,type:"text",value:e,onChange:e=>s(e.target.value)}),(0,n.jsx)("button",{type:"submit",className:"flex flex-col items-end",children:(0,n.jsx)("i",{className:"ml-4 text-blue-300 material-symbols-outlined",children:"send"})})]})]})}function m(){let e=(0,l.useRouter)(),{id:s}=e.query,[t,c]=(0,u.useState)([]),i="/question/".concat(s,"/questions");return(0,u.useEffect)(()=>{let e=(0,r.hJ)(a.R,i);(0,r.PL)(e).then(e=>{console.log(e.docs.map(e=>({...e.data()}))),c(e.docs.map(e=>({...e.data()})))}),(0,r.cf)(e,e=>{c(e.docs.map(e=>({...e.data()})))})},[s]),(0,n.jsx)("div",{children:t.map(e=>(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"flex items-end pb-1 text-xs text-gray-400",children:e.user}),(0,n.jsx)("p",{className:"ml-2 text-lg",children:e.question})]},e.question))})}var x=t(1664),f=t.n(x);function h(e){let s=(0,l.useRouter)(),{id:t}=s.query;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"h-screen pt-8 pb-20 mx-4",children:[(0,n.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,n.jsx)(f(),{href:"../../",children:"‚Üê "}),"roomID : ",t]}),(0,n.jsxs)("div",{className:"h-full max-w-lg mx-auto mt-2 bg-white rounded-xl",children:[(0,n.jsx)("div",{className:"h-full pt-4 pb-12 mx-8 overflow-hidden",children:(0,n.jsx)(m,{})}),(0,n.jsx)("div",{className:"absolute w-full max-w-lg px-8 bottom-16",children:(0,n.jsx)(d,{})})]})]})})}}},function(e){e.O(0,[424,167,774,888,179],function(){return e(e.s=3798)}),_N_E=e.O()}]);